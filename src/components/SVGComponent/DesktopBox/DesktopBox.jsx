import { useAnimationControls } from "framer-motion";
import { useEffect } from "react";
import { ContainerVariants } from "./DesktopBox.animate";
import useDevice from "../../../hooks/useDevice";
import { Wrapper, Container } from "./DesktopBox.style";

export default function DesktopBox() {
    // detect breakpoint
    const device = useDevice();
    // control animation sequence
    const controls = useAnimationControls();

    // responsive animation
    useEffect(() => {
        controls.start({
            opacity: 0,
        });
        (async () => {
            await controls.start("show");
            return await controls.start("float");
        })();
    }, [controls, device]);
    return (
        <Wrapper device={device}>
            <Container
                xmlns="http://www.w3.org/2000/svg"
                width="191"
                height="184"
                viewBox="0 0 191 184"
                variants={ContainerVariants?.[device]}
                animate={controls}
            >
                <g transform="translate(50.93 25.891)">
                    <path
                        d="M 0 3.99 L 0 57.86 L 41.968 81.895 L 89.355 53.87 L 89.355 0"
                        fill="rgb(0,0,0)"
                    ></path>
                </g>
                <path
                    d="M 50.93 29.881 L 50.93 83.751 L 92.898 107.786 L 140.285 79.761 L 140.285 25.891"
                    fill="rgb(255,146,113)"
                ></path>
                <path
                    d="M 92.899 53.917 L 92.899 107.787 L 140.286 79.761 L 140.286 25.891 Z"
                    fill="rgb(223,92,52)"
                ></path>
                <path
                    d="M 50.93 29.88 L 99.624 2.126 L 140.286 25.893 L 92.899 53.918 Z"
                    fill="rgb(244,123,86)"
                ></path>
                <path
                    d="M 94.013 14.49 C 98.95 14.157 103.88 15.242 108.22 17.619 C 110.706 19.081 112.064 20.607 112.256 22.198 C 112.448 23.788 111.628 25.173 109.694 26.341 C 108.777 26.908 107.766 27.307 106.709 27.521 C 105.84 27.726 104.949 27.816 104.057 27.79 L 103.083 27.713 C 103.174 27.93 103.234 28.159 103.263 28.393 C 103.232 28.947 103.055 29.482 102.75 29.945 C 102.243 30.805 101.519 31.517 100.65 32.01 C 98.625 33.213 96.305 33.826 93.95 33.78 C 91.514 33.846 89.106 33.237 86.993 32.023 C 84.994 30.843 83.97 29.457 83.893 27.867 C 83.901 27.025 84.145 26.202 84.598 25.492 C 85.051 24.782 85.695 24.214 86.455 23.852 C 87.185 23.397 87.98 23.055 88.812 22.839 C 89.476 22.647 90.159 22.531 90.849 22.493 L 91.554 22.493 L 90.272 21.723 L 93.872 19.479 L 102.212 24.391 C 102.85 24.734 103.563 24.914 104.287 24.914 C 105.011 24.914 105.724 24.734 106.362 24.391 C 108.131 23.288 107.499 21.839 104.467 20.043 C 101.245 18.269 97.582 17.454 93.911 17.696 C 90.021 17.744 86.215 18.838 82.893 20.864 C 79.87 22.754 78.371 25.007 78.397 27.624 C 78.397 30.188 79.998 32.472 83.111 34.306 C 86.509 36.206 90.368 37.125 94.257 36.961 C 98.129 37.024 101.943 36.012 105.274 34.036 C 106.427 33.353 107.461 32.486 108.336 31.471 C 108.921 30.85 109.358 30.105 109.616 29.291 L 109.796 28.483 L 114.549 28.752 C 114.557 28.897 114.557 29.042 114.549 29.188 C 114.462 29.581 114.346 29.966 114.203 30.342 C 113.997 30.945 113.722 31.522 113.383 32.062 C 112.895 32.789 112.328 33.459 111.693 34.062 C 110.855 34.87 109.931 35.585 108.938 36.192 C 106.078 37.909 102.91 39.05 99.612 39.552 C 96.018 40.18 92.349 40.244 88.735 39.744 C 85.45 39.357 82.275 38.319 79.396 36.691 C 77.071 35.46 75.21 33.507 74.092 31.125 C 73.635 30.086 73.4 28.963 73.4 27.828 C 73.4 26.694 73.635 25.571 74.092 24.532 C 75.199 22.107 77.041 20.092 79.358 18.773 C 83.772 16.06 88.833 14.581 94.013 14.489 Z M 98.676 27.752 C 98.506 26.861 97.906 26.112 97.075 25.751 C 96.066 25.156 94.916 24.842 93.745 24.84 C 92.656 24.799 91.579 25.075 90.644 25.635 C 90.267 25.819 89.949 26.103 89.723 26.456 C 89.497 26.809 89.372 27.217 89.363 27.636 C 89.48 28.526 90.053 29.29 90.875 29.65 C 91.907 30.24 93.081 30.537 94.269 30.51 C 95.412 30.538 96.539 30.245 97.523 29.663 C 97.888 29.496 98.196 29.226 98.41 28.887 C 98.624 28.547 98.735 28.153 98.728 27.752"
                    fill="rgb(62,41,40)"
                ></path>
            </Container>
        </Wrapper>
    );
}
